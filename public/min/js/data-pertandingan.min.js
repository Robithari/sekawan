import{getFirestore,collection,getDocs}from"https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";import{initializeApp,getApps}from"https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";import*as firebaseConfig from"../../firebase-config.js";let app;app=getApps().length?getApps()[0]:initializeApp(firebaseConfig);const db=getFirestore(app);async function fetchData(){const e=document.getElementById("loading-message"),t=document.getElementById("event-data"),n=document.getElementById("teams"),a=document.getElementById("countdown");e.style.display="block",t.style.display="none",n.style.display="none",a.style.display="none";try{const i=await getDocs(collection(db,"jadwalPertandingan"));let o=!1;i.forEach(i=>{const s=i.data();if(o)return;const{timKita:l,timLawan:r,hari:d,tanggal:p,waktu:c}=s,g=new Date(p),m=g.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"});function y(){const e=new Date,[t,n]=c.split(".").map(Number),i=new Date(g);i.setHours(t),i.setMinutes(n),i.setSeconds(0),i.setMilliseconds(0);const o=i-e,s=i.getTime()+54e5-e.getTime();if(s<=0)return a.textContent="Pertandingan Ini Telah Selesai",void(a.style.color="red");if(o<=0&&s>0)return a.textContent="Pertandingan Sedang Dimulai",void(a.style.color="green");let l=`${Math.floor(o/36e5)} jam ${Math.floor(o%36e5/6e4)} menit ${Math.floor(o%6e4/1e3)} detik`;a.textContent=l,a.style.color="red"}t.innerHTML=`<span id="date">${d}, ${m}</span>. <span id="time">${c} WIB</span>`,n.innerHTML=`\n              <div style="text-align: center;">\n                  <div id="ourTeam" style="font-size: 12px; margin-bottom: -3px; color: purple; ">${l}</div>\n                  <div id="vs" style="font-size: 9px; font-weight: bold; color: red;">vs</div>\n                  <div id="opponentTeam" style="font-size: 12px; margin-top: -2px; color: purple;">${r}</div>\n              </div>\n          `,e.style.display="none",t.style.display="block",t.style.color="green",t.style.fontSize="9px",t.style.marginBottom="1px",n.style.display="block",a.style.display="block",y(),setInterval(y,1e3),o=!0}),o||(e.textContent="Tidak ada jadwal pertandingan yang tersedia",e.style.color="red")}catch(t){console.error("Kesalahan saat mengambil data:",t),e.textContent="Kesalahan saat mengambil data",e.style.color="red"}}fetchData();