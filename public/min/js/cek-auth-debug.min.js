const firebaseConfig={apiKey:"AIzaSyDo2kyDl39c4t5DfxYycmmjHSbY5FXB9AA",authDomain:"sekawan-fc-427414.firebaseapp.com",projectId:"sekawan-fc-427414",storageBucket:"sekawan-fc-427414.appspot.com",messagingSenderId:"399174955835",appId:"1:399174955835:web:c681f8681c474420e8fd1e",measurementId:"G-CD0MHD1RBP"},pagesToProtect=["/profil","/kas","/inventaris","/","/rangkuman-berita","/rangkuman-artikel"];function getCurrentPath(){return window.location.pathname}document.addEventListener("DOMContentLoaded",function(){console.log("DOM loaded, mulai inisialisasi Firebase dan cek autentikasi"),firebase.apps.length?console.log("Firebase sudah diinisialisasi sebelumnya"):(firebase.initializeApp(firebaseConfig),console.log("Firebase diinisialisasi"));const e=firebase.auth(),n=getCurrentPath();pagesToProtect.includes(n)&&e.onAuthStateChanged(function(e){console.log("onAuthStateChanged dipanggil, user:",e),e?console.log("User sudah login, tetap di halaman ini"):(console.log("User belum login, redirect ke /login"),window.location.href="/login")});const o=document.getElementById("login-logout-link");o?(console.log("Elemen login-logout-link ditemukan"),e.onAuthStateChanged(function(n){console.log("onAuthStateChanged untuk navbar, user:",n),n?(o.textContent="Logout",o.href="#",o.onclick=function(n){n.preventDefault(),console.log("Logout diklik, proses sign out"),e.signOut().then(function(){console.log("Logout berhasil, redirect ke /"),window.location.href="/"}).catch(function(e){console.error("Error during logout:",e)})}):(o.textContent="Login / Signup",o.href="/login")})):console.error('Element with id "login-logout-link" not found.')});