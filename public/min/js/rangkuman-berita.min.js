import{getFirestore,collection,query,getDocs,orderBy}from"https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";import{initializeApp,getApps}from"https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";import*as firebaseConfig from"../../firebase-config.js";let app;app=getApps().length?getApps()[0]:initializeApp(firebaseConfig);const db=getFirestore(app),beritaCollectionRef=collection(db,"berita");async function loadBerita(){const e=document.getElementById("berita-container");e.innerHTML="";const t=!1;try{t;const a=query(beritaCollectionRef,orderBy("tanggalPembuatan","desc")),i=await getDocs(a);if(i.empty)return void(e.innerHTML="<p>Tidak ada berita yang tersedia.</p>");i.forEach(t=>{const a=t.data();const i=generateBeritaCard(a);e.insertAdjacentHTML("beforeend",i)})}catch(t){console.error("Error saat memuat berita:",t.message),e.innerHTML="<p>Gagal memuat berita. Silakan coba lagi nanti.</p>"}}function generateBeritaCard(e){const t=new Date(e.tanggalPembuatan).toLocaleDateString("id-ID");return`\n        <div class="informasi">\n            \x3c!-- Link diubah menjadi sesuai dengan route /berita/:slug --\x3e\n            <a href="/berita/${e.slug}">\n                <div class="card no-border">\n                    <div class="row g-0 align-items-center">\n                        <div class="col-md-4 col-sm-4 col-4" style="width: auto; border-radius: 10px;">\n                            <img src="${e.photoUrl}" class="custom-image" alt="${e.title}">\n                        </div>\n                        <div class="col-md-8 col-sm-8 col-8">\n                            <div class="card-body">\n                                <div class="container-title">\n                                    <p class="card-title custom-title text-start mb-0">${e.title}</p>\n                                </div>\n                                <p class="card-text">${t}</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </a>\n        </div>`}document.addEventListener("DOMContentLoaded",loadBerita);